transition_manual(DATE) +
theme_void()
beep(2)
ggplot(cases_by_LGA_poly,
aes(x = long, y = lat,
fill = ACTIVE, group = LGA)) +
geom_polygon(colour = "grey66",
size = 1) +
scale_fill_gradient(low = "grey66", high = "red2",
na.value = "grey66") +
labs(title = "Covid cases per LGA by day") +
coord_equal(xlim = c(143.75, 146.25),
ylim = c(-38.66, -37.50)) +
transition_manual(DATE) +
theme_void()
anim_save("cases by lga greater metro.gif")
beep(2)
ggplot(cases_by_LGA_poly,
aes(x = long, y = lat,
fill = ACTIVE, group = LGA)) +
geom_polygon(colour = "grey66",
size = 1) +
scale_fill_gradient(low = "grey66", high = "red2",
na.value = "grey66") +
labs(title = "Active Covid-19 Cases per LGA per day",
subtitle = " ",
caption = "Note: active cases and NOT new cases") +
coord_equal(xlim = c(143.50, 146.00),
ylim = c(-39.00, -36.50)) +
transition_manual(DATE) +
theme_void()
anim_save("cases by lga greater metro.gif")
beep(2)
ggplot(cases_by_LGA_poly,
aes(x = long, y = lat,
fill = ACTIVE, group = LGA)) +
geom_polygon(colour = "grey66",
size = 1) +
scale_fill_gradient(low = "grey66", high = "red2",
na.value = "grey66") +
labs(title = "Active Covid-19 Cases per LGA per day",
subtitle = " ",
caption = "Note: active cases and NOT new cases") +
coord_equal(xlim = c(143.75, 145.66),
ylim = c(-39.00, -36.50)) +
transition_manual(DATE) +
theme_void()
anim_save("cases by lga greater metro.gif")
ggplot(cases_by_LGA_poly,
aes(x = long, y = lat,
fill = ACTIVE, group = LGA)) +
geom_polygon(colour = "grey66",
size = 1) +
scale_fill_gradient(low = "grey66", high = "red2",
na.value = "grey66") +
labs(title = "Active Covid-19 Cases per LGA per day",
subtitle = " ",
caption = "Note: active cases and NOT new cases") +
coord_equal(xlim = c(143.75, 146.00),
ylim = c(-39.00, -36.50)) +
transition_manual(DATE) +
theme_void()
anim_save("cases by lga greater metro.gif")
beep(2)
?animate
length(unique(cases_by_LGA_poly$DATE))
anim_save("cases by lga greater metro.gif",
frames = length(unique(cases_by_LGA_poly$DATE)),
fps = 1,
end_pause = 10)
ggplot(cases_by_LGA_poly,
aes(x = long, y = lat,
fill = ACTIVE, group = LGA)) +
geom_polygon(colour = "grey66",
size = 1) +
scale_fill_gradient(low = "grey66", high = "red2",
na.value = "grey66") +
labs(title = "Active Covid-19 Cases per LGA per day",
subtitle = " ",
caption = "Note: active cases and NOT new cases") +
coord_equal(xlim = c(143.75, 146.00),
ylim = c(-39.00, -38.75)) +
transition_manual(DATE) +
theme_void()
anim_save("cases by lga greater metro.gif",
frames = length(unique(cases_by_LGA_poly$DATE)),
fps = 1,
end_pause = 10)
beep(2)
ggplot(cases_by_LGA_poly,
aes(x = long, y = lat,
fill = ACTIVE, group = LGA)) +
geom_polygon(colour = "grey20",
size = 1) +
scale_fill_gradient(low = "grey66", high = "red2",
na.value = "grey66") +
labs(title = "Active Covid-19 Cases per LGA per day",
subtitle = " ",
caption = "Note: active cases and NOT new cases") +
coord_equal(xlim = c(143.75, 146.00),
ylim = c(-39.00, -37.25)) +
transition_manual(DATE) +
theme_void()
anim_save("cases by lga greater metro.gif",
frames = length(unique(cases_by_LGA_poly$DATE)),
fps = 1,
end_pause = 10)
beep(2)
ggplot(cases_by_LGA_poly,
aes(x = long, y = lat,
fill = ACTIVE, group = LGA)) +
geom_polygon(colour = "grey85",
size = 1) +
scale_fill_gradient(low = "grey66", high = "red2",
na.value = "grey66") +
labs(title = "Active Covid-19 Cases per LGA per day",
subtitle = " ",
caption = "Note: active cases and NOT new cases") +
coord_equal(xlim = c(144.10, 146.00),
ylim = c(-39.00, -37.25)) +
transition_manual(DATE) +
theme_void()
anim_save("cases by lga greater metro.gif",
frames = length(unique(cases_by_LGA_poly$DATE)),
fps = 1,
end_pause = 10)
beep(2)
distinct(cases_by_LGA_poly,
DATE, ACTIVE) %>% View
library(pacman)
p_load(tidyverse,
lubridate,
ggplot2,
ggmap,
rvest,
gganimate,
plotly,
transformr,
gifski,
png,
beepr)
distinct(cases_by_LGA_poly,
DATE, ACTIVE) %>% View
distinct(cases_by_LGA_poly,
DATE, ACTIVE) %>%
sort(DATE)
SORT(distinct(cases_by_LGA_poly,
DATE, ACTIVE)$DATE)
sort(distinct(cases_by_LGA_poly,
DATE, ACTIVE)$DATE)
sort(distinct(cases_by_LGA_poly,
DATE, ACTIVE)$DATE) %>% View
distinct(cases_by_LGA_poly,
DATE, ACTIVE) %>%
arrange(DATE)
distinct(cases_by_LGA_poly,
DATE, ACTIVE) %>%
arrange(DATE) %>% View
class(cases_by_LGA_poly$DATE)
rm(list=ls())
gc()
source('B:/Analytics/Covid Melbourne/Cases LGA Map.R', echo=TRUE)
source('B:/Analytics/Covid Melbourne/Cases LGA Map.R', echo=TRUE)
source('B:/Analytics/Covid Melbourne/Cases LGA Map.R', echo=TRUE)
source('B:/Analytics/Covid Melbourne/Cases LGA Map.R', echo=TRUE)
source('B:/Analytics/Covid Melbourne/Cases LGA Map.R', echo=TRUE)
source('B:/Analytics/Covid Melbourne/Cases LGA Map.R', echo=TRUE)
rm(list=ls())
gc()
source('B:/Analytics/Covid Melbourne/Cases LGA Map.R', echo=TRUE)
ggplot(cases_by_LGA_poly,
aes(x = long, y = lat,
fill = ACTIVE, group = LGA)) +
geom_polygon(colour = "grey85",
size = 1) +
scale_fill_gradient("Active\nCases",
low = "grey75", high = "red2",
na.value = "grey75") +
labs(title = "Active Covid-19 Cases per LGA per day",
subtitle = "Greater Melbourne Area\n\n ",
caption = paste(sep = "\n",
"Note: active cases and NOT new cases",
"",
"Cases data:  covidlive.com.au      -      LGA Shape files:  data.vic.gov.au",
"My git:  github.com/BenCole6/Covid-Vic-AU")) +
coord_equal(xlim = c(144.10, 145.75),
ylim = c(-38.75, -37.25)) +
transition_time(DATE) +
theme_void()
ggplot(cases_by_LGA_poly,
aes(x = long, y = lat,
fill = ACTIVE, group = LGA)) +
geom_polygon(colour = "grey85",
size = 1) +
scale_fill_gradient("Active\nCases",
low = "grey75", high = "red2",
na.value = "grey75") +
labs(title = "Active Covid-19 Cases per LGA per day",
subtitle = "Greater Melbourne Area\n\n ",
caption = paste(sep = "\n",
"Note: active cases and NOT new cases",
"",
"Cases data:  covidlive.com.au      -      LGA Shape files:  data.vic.gov.au",
"My git:  github.com/BenCole6/Covid-Vic-AU")) +
coord_equal(xlim = c(144.10, 145.75),
ylim = c(-38.75, -37.25)) +
transition_manual(DATE) +
theme_void()
?geom_sf
?transition_manual
class(cases_by_LGA_poly$DATE)
head(cases_by_LGA_poly$DATE)
ggplot(cases_by_LGA_poly,
aes(x = long, y = lat,
fill = ACTIVE, group = DATE)) +
geom_polygon(colour = "grey85",
size = 1) +
scale_fill_gradient("Active\nCases",
low = "grey75", high = "red2",
na.value = "grey75") +
labs(title = "Active Covid-19 Cases per LGA per day",
subtitle = "Greater Melbourne Area\n\n ",
caption = paste(sep = "\n",
"Note: active cases and NOT new cases",
"",
"Cases data:  covidlive.com.au",
"LGA Shape files:  data.vic.gov.au",
"",
"My git:  github.com/BenCole6/Covid-Vic-AU")) +
coord_equal(xlim = c(144.10, 145.75),
ylim = c(-38.75, -37.25)) +
transition_time(DATE) +
theme_void()
ggplot(cases_by_LGA_poly,
aes(x = long, y = lat,
fill = ACTIVE, group = LGA)) +
geom_polygon(colour = "grey85",
size = 1) +
scale_fill_gradient("Active\nCases",
low = "grey75", high = "red2",
na.value = "grey75") +
labs(title = "Active Covid-19 Cases per LGA per day",
subtitle = "Greater Melbourne Area\n\n ",
caption = paste(sep = "\n",
"Note: active cases and NOT new cases",
"",
"Cases data:  covidlive.com.au",
"LGA Shape files:  data.vic.gov.au",
"",
"My git:  github.com/BenCole6/Covid-Vic-AU")) +
coord_equal(xlim = c(144.10, 145.75),
ylim = c(-38.75, -37.25)) +
transition_time(DATE) +
theme_void()
airquality
ggplot(cases_by_LGA_poly,
aes(x = long, y = lat,
fill = ACTIVE)) +
geom_polygon(aes(group = DATE),
colour = "grey85",
size = 1) +
scale_fill_gradient("Active\nCases",
low = "grey75", high = "red2",
na.value = "grey75") +
labs(title = "Active Covid-19 Cases per LGA per day",
subtitle = "Greater Melbourne Area\n\n ",
caption = paste(sep = "\n",
"Note: active cases and NOT new cases",
"",
"Cases data:  covidlive.com.au",
"LGA Shape files:  data.vic.gov.au",
"",
"My git:  github.com/BenCole6/Covid-Vic-AU")) +
coord_equal(xlim = c(144.10, 145.75),
ylim = c(-38.75, -37.25)) +
transition_time(DATE) +
theme_void()
unique(cases_by_LGA_poly$DATE)
filter(cases_by_LGA_poly,
!is.na(DATE))
cases_by_LGA_poly <- filter(cases_by_LGA_poly,
!is.na(DATE))
range(cases_by_LGA_poly$DATE)
ggplot(cases_by_LGA_poly,
aes(x = long, y = lat,
fill = ACTIVE)) +
geom_polygon(aes(group = DATE),
colour = "grey85",
size = 1) +
scale_fill_gradient("Active\nCases",
low = "grey75", high = "red2",
na.value = "grey75") +
labs(title = "Active Covid-19 Cases per LGA per day",
subtitle = "Greater Melbourne Area\n\n ",
caption = paste(sep = "\n",
"Note: active cases and NOT new cases",
"",
"Cases data:  covidlive.com.au",
"LGA Shape files:  data.vic.gov.au",
"",
"My git:  github.com/BenCole6/Covid-Vic-AU")) +
coord_equal(xlim = c(144.10, 145.75),
ylim = c(-38.75, -37.25)) +
transition_time(DATE) +
theme_void()
rm(list=ls())
gc()
source('B:/Analytics/Covid Melbourne/Cases LGA Map.R', echo=TRUE)
ggplot(cases_by_LGA_poly,
aes(x = long, y = lat,
fill = ACTIVE, group = LGA)) +
geom_polygon(colour = "grey85",
size = 0.85) +
scale_fill_gradient("Active\nCases",
low = "grey75", high = "red2",
na.value = "grey75") +
labs(title = " Active Covid-19 Cases per LGA per day",
subtitle = " Greater Melbourne Area\n\n ",
caption = paste(sep = "\n",
"Note: active cases only",
"",
"Cases data:  covidlive.com.au",
"LGA Shape files:  data.vic.gov.au",
"",
"My git:  github.com/BenCole6/Covid-Vic-AU")) +
coord_equal(xlim = c(144.10, 145.75),
ylim = c(-38.75, -37.25)) +
transition_time(DATE) +
theme_void()
anim_save("cases by lga greater metro.gif",
frames = length(unique(cases_by_LGA_poly$DATE)),
fps = 1,
end_pause = 15)
beep(2)
ggplot(cases_by_LGA_poly,
aes(x = long, y = lat,
fill = ACTIVE, group = LGA)) +
geom_polygon(colour = "grey85",
size = 0.75) +
scale_fill_gradient("Active\nCases",
low = "grey75", high = "red2",
na.value = "grey75") +
labs(title = paste(sep = "\n",
"Active Covid-19 Cases per LGA per day",
"{frame_time}"),
subtitle = "Greater Melbourne Area",
caption = paste(sep = "\n",
"Note: active cases only",
"",
"Cases data:  covidlive.com.au",
"LGA Shape files:  data.vic.gov.au",
"",
"github.com/BenCole6/Covid-Vic-AU")) +
coord_equal(xlim = c(144.10, 145.75),
ylim = c(-38.75, -37.25)) +
transition_time(DATE) +
theme_void()
anim_save("cases by lga greater metro.gif",
frames = length(unique(cases_by_LGA_poly$DATE)),
fps = 1,
end_pause = 15)
beep(2)
?animate
source('B:/Analytics/Covid Melbourne/Cases LGA Map.R', echo=TRUE)
rm(list=ls())
gc()
source('B:/Analytics/Covid Melbourne/Cases LGA Map.R', echo=TRUE)
rm(list=ls())
gc()
source('B:/Analytics/Covid Melbourne/Cases LGA Map.R', echo=TRUE)
animate(gg_MelbMetro_cases_by_LGA,
height = 750, width = 750)
anim_save("cases by lga greater metro.gif",
frames = length(unique(cases_by_LGA_poly$DATE)),
fps = 1,
end_pause = 30)
beep(2)
View(cases_by_LGA_poly)
source('B:/Analytics/Covid Melbourne/Cases LGA Map.R', echo=TRUE)
rm(list=ls())
gc()
source('B:/Analytics/Covid Melbourne/Cases LGA Map.R', echo=TRUE)
library(pacman)
p_load(tidyverse,
lubridate,
ggplot2,
ggmap,
rvest,
gganimate,
plotly,
transformr,
gifski,
png,
beepr)
beep(8)
beep(8)
rm(list=ls())
gc()
source('B:/Analytics/Covid Melbourne/Cases LGA Map.R', echo=TRUE)
beep(8)
ggplot(cases_by_LGA_poly,
aes(x = long, y = lat,
fill = ACTIVE, group = LGA)) +
geom_polygon(colour = "grey85",
size = 0.75) +
scale_fill_gradient("Active\nCases",
low = "grey75", high = "red2",
na.value = "grey75") +
labs(title = paste(sep = "\n",
"Active Covid-19 Cases per LGA per day",
"{frame_time}"),
subtitle = "Greater Melbourne Area\n\n ",
caption = paste(sep = "\n",
"Note: active cases only",
"",
"Cases data:  covidlive.com.au",
"LGA Shape files:  data.vic.gov.au",
"",
"github.com/BenCole6/Covid-Vic-AU")) +
coord_equal(xlim = c(144.10, 145.75),
ylim = c(-38.75, -37.25)) +
transition_time(DATE) +
theme_void() +
theme(text = element_text(family = "Arial Nova"),
plot.title = element_text(face = "bold", size = 14))
ggplot(cases_by_LGA_poly,
aes(x = long, y = lat,
fill = ACTIVE, group = LGA)) +
geom_polygon(colour = "grey85",
size = 1) +
scale_fill_gradient(low = "grey75", high = "red2",
na.value = "grey75") +
labs(title = paste(sep = "\n",
"Active Covid-19 Cases per LGA per day",
"{frame_time}"),
subtitle = "Victorian Local Government Areas\n\n ",
caption = paste(sep = "\n",
"Note: active cases only",
"",
"Cases data:  covidlive.com.au",
"LGA Shape files:  data.vic.gov.au",
"",
"github.com/BenCole6/Covid-Vic-AU")) +
coord_equal() +
transition_time(DATE) +
theme_void() +
theme(text = element_text(family = "Arial Nova"),
plot.title = element_text(face = "bold", size = 14))
rm(list=ls())
gc()
source('B:/Analytics/Covid Melbourne/Cases LGA Map.R', echo=TRUE)
unique(cases_by_LGA_poly$DATE)
sort(unique(cases_by_LGA_poly$DATE))
View(filter(combined_lga_df, str_detect(LGA, "boroondara")))
filter(combined_lga_df, str_detect(LGA, "boroondara"))
filter(combined_lga_df, str_detect(LGA, "boroondara"))[1:2]
boroondara_coords <- filter(combined_lga_df, str_detect(LGA, "boroondara"))[1:2]
filter(cases_by_LGA_poly, str_detect(LGA, "boroondara"))
filter(cases_by_LGA_poly, str_detect(LGA, "boroondara"))[1:2,]
filter(cases_by_LGA_poly, str_detect(LGA, "boroondara"))[1:2]
boroondara_poly_cords <- filter(cases_by_LGA_poly, str_detect(LGA, "boroondara"))[1:2]
boroondara_poly_cords %in% boroondara_coords
boroondara_coords
boroondara_poly_cords[1,] %in% boroondara_coords
boroondara_poly_cords[1,]
boroondara_coords
boroondara_poly_cords[1,]
boroondara_poly_cords
head(boroondara_poly_cords)
sapply(boroondara_poly_cords, class)
sapply(boroondara_coords, class)
all.equal(boroondara_poly_cords, boroondara_coords)
all.equal(boroondara_poly_cords[1,], boroondara_coords)
boroondara_poly_cords
boroondara_poly_cords[1,]
boroondara_coords
boroondara_poly_cords
sapply(boroondara_poly_cords, unique)
sapply(boroondara_poly_cords, unique) %>% sort()
sort(sapply(boroondara_poly_cords, unique))
sapply(boroondara_poly_cords, unique, sort)
sapply(boroondara_poly_cords, unique) %>%
sapply(sort)
cases_by_LGA_poly
distinct(cases_by_LGA_poly,
long, lat, order, LGA, ACTIVE)
distinct(cases_by_LGA_poly,
long, lat, order, LGA, ACTIVE) %>%
nrow()
nrow(cases_by_LGA_poly)
cases_by_LGA_poly
distinct(cases_by_LGA_poly,
long, lat, order, LGA, DATE, ACTIVE) %>%
nrow() / nrow(cases_by_LGA_poly)
round(0.1, 12)
nchar(boroondara_coords[1,1])
nchar(boroondara_coords[1,2])
boroondara_coords[1,2]
nchar(cases_by_LGA_poly$lat)
min(nchar(cases_by_LGA_poly$lat))
?round
p_load(round)
boroondara_coords$lat
min(nchar(boroondara_coords$lat))
max(nchar(boroondara_coords$lat))
min(nchar(cases_by_LGA_df$lat))
cases_by_LGA_df
min(nchar(combined_lga_df$lat))
min(nchar(combined_lga_df$lon))
combined_lga_df
min(nchar(combined_lga_df$long))
min(nchar(combined_lga_df$lat))
